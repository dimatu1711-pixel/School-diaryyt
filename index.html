<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 20px;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e1e1e1;
            background: white;
            border-radius: 10px 10px 0 0;
            padding: 0 10px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 15px 20px;
            text-align: center;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            border-bottom: 3px solid #667eea;
            color: #667eea;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            margin: 8px 0;
            border: 2px solid #e1e1e1;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .btn {
            padding: 12px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .demo-accounts {
            background: #e7f3ff;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-size: 14px;
        }
        
        .forgot-link {
            text-align: center;
            margin: 15px 0;
            color: #667eea;
            cursor: pointer;
        }
        
        .meeting-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .meeting-table th, .meeting-table td {
            border: 1px solid #e1e1e1;
            padding: 15px;
            text-align: left;
        }
        
        .meeting-table th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }
        
        .info-link {
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
            font-weight: bold;
        }
        
        .doc-viewer {
            width: 100%;
            height: 600px;
            border: none;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="tabs">
        <button class="tab active" onclick="openTab('login')">üîê –í—Ö—ñ–¥</button>
        <button class="tab" onclick="openTab('school')">üè´ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —à–∫–æ–ª–∏</button>
        <button class="tab" onclick="openTab('info')">üìã –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</button>
    </div>

    <div class="container">
        <!-- –í–•–Ü–î -->
        <div id="login" class="tab-content active">
            <h2>–í—Ö—ñ–¥ –¥–æ —Å–∏—Å—Ç–µ–º–∏</h2>
            
            <div class="demo-accounts">
                <strong>–î–µ–º–æ-–∞–∫–∞—É–Ω—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É:</strong><br>
                –£—á–µ–Ω—å: student@school.com / student123<br>
                –í—á–∏—Ç–µ–ª—å: teacher@school.com / teacher123<br>
                –ê–¥–º—ñ–Ω: admin@school.com / admin123
            </div>
            
            <table class="meeting-table">
                <thead>
                    <tr>
                        <th colspan="3">üìÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞—Å—ñ–¥–∞–Ω–Ω—è</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>–ó–∞—Å—ñ–¥–∞–Ω–Ω—è ‚Ññ1</strong></td>
                        <td>–ó –ø–∏—Ç–∞–Ω—å –∑–∞—Ö–∏—Å—Ç—É –¥–∞–Ω–∏—Ö</td>
                        <td>
                            <span style="background: #d4edda; color: #155724; padding: 5px 12px; border-radius: 20px; font-size: 12px; font-weight: bold;">–ü—Ä–æ–≤–µ–¥–µ–Ω–æ</span>
                        </td>
                    </tr>
                    <tr>
                        <td><strong>–î–∞—Ç–∞</strong></td>
                        <td>25 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2024</td>
                        <td>
                            <span class="info-link" onclick="openTab('info')">
                                –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ ‚Üí
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <input type="text" id="loginEmail" placeholder="Email">
            <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="btn" onclick="login()">–£–≤—ñ–π—Ç–∏</button>
            
            <div class="forgot-link" onclick="sendRecoveryCode()">
                –ó–∞–±—É–ª–∏ –ø–∞—Ä–æ–ª—å?
            </div>
        </div>

        <!-- –†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø –®–ö–û–õ–ò -->
        <div id="school" class="tab-content">
            <h2>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞–∫–ª–∞–¥—É –æ—Å–≤—ñ—Ç–∏</h2>
            
            <input type="text" id="schoolName" placeholder="–ù–∞–∑–≤–∞ –∑–∞–∫–ª–∞–¥—É">
            <input type="email" id="schoolEmail" placeholder="Email –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞">
            <input type="text" id="schoolAddress" placeholder="–ê–¥—Ä–µ—Å–∞">
            <input type="tel" id="schoolPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
            <select id="schoolType">
                <option value="">–¢–∏–ø –∑–∞–∫–ª–∞–¥—É</option>
                <option value="school">–®–∫–æ–ª–∞</option>
                <option value="lyceum">–õ—ñ—Ü–µ–π</option>
                <option value="gymnasium">–ì—ñ–º–Ω–∞–∑—ñ—è</option>
            </select>
            <button class="btn" onclick="registerSchool()">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞–∫–ª–∞–¥</button>
        </div>

        <!-- –Ü–ù–§–û–†–ú–ê–¶–Ü–Ø -->
        <div id="info" class="tab-content">
            <h2>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –∑–∞—Å—ñ–¥–∞–Ω–Ω—è</h2>
            
            <iframe src="https://docs.google.com/document/d/1qSKSLGrN2Cx7igervQC2QEgx0Hy01IF7RryqsNs4WIc/preview" 
                    class="doc-viewer">
            </iframe>
        </div>
    </div>

    <script>
        emailjs.init("G0J3Izq0LA9Bgb4X0");

        const demoUsers = {
            "admin@school.com": {password: "admin123", role: "admin"},
            "teacher@school.com": {password: "teacher123", role: "teacher"}, 
            "student@school.com": {password: "student123", role: "student"}
        };

        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if(demoUsers[email] && demoUsers[email].password === password) {
                window.location.href = 'dashboard.html?email=' + email + '&role=' + demoUsers[email].role;
            } else {
                alert('‚ùå –ù–µ–≤—ñ—Ä–Ω–∏–π email –∞–±–æ –ø–∞—Ä–æ–ª—å!');
            }
        }

        function registerSchool() {
            const schoolName = document.getElementById('schoolName').value;
            const email = document.getElementById('schoolEmail').value;
            const address = document.getElementById('schoolAddress').value;
            const phone = document.getElementById('schoolPhone').value;
            const type = document.getElementById('schoolType').value;
            
            if(schoolName && email) {
                const schoolData = {
                    name: schoolName,
                    email: email,
                    address: address,
                    phone: phone,
                    type: type,
                    teachers: [],
                    classes: [],
                    admins: [
                        {
                            id: Date.now(),
                            name: '–î–∏—Ä–µ–∫—Ç–æ—Ä',
                            email: email
                        }
                    ],
                    students: [],
                    website: ''
                };
                
                localStorage.setItem('schoolData', JSON.stringify(schoolData));
                window.location.href = 'school-admin.html';
            } else {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –Ω–∞–∑–≤—É —à–∫–æ–ª–∏ —Ç–∞ email!');
            }
        }

        function sendRecoveryCode() {
            const email = prompt("–í–≤–µ–¥—ñ—Ç—å –≤–∞—à email –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è:");
            
            if(email) {
                const code = Math.floor(100000 + Math.random() * 900000);
                
                emailjs.send("service_ydertiz", "template_xxxxx", {
                    to_email: email,
                    –ö–û–î_–î–û–°–¢–£–ü–ê: code
                })
                .then(function() {
                    alert('‚úÖ –ö–æ–¥ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ ' + email + '\n–ö–æ–¥: ' + code);
                })
                .catch(function() {
                    alert('üìß –ö–æ–¥ –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è: ' + code);
                });
            }
        }
    </script>
</body>
</html>
