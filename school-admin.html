iv>
                `;
                list.appendChild(card);
            });
        }

        function addAdmin() {
            const name = document.getElementById('adminName').value;
            const email = document.getElementById('adminEmail').value;
            
            if (name && email) {
                const password = generatePassword();
                const admin = {
                    id: Date.now(),
                    name: name,
                    email: email,
                    password: password,
                    login: email,
                    role: 'admin'
                };
                
                schoolData.admins.push(admin);
                saveSchoolData();
                loadAdmins();
                updateStats();
                
                showPasswordModal(name, email, password);
                document.getElementById('adminName').value = '';
                document.getElementById('adminEmail').value = '';
            } else {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
            }
        }

        function loadAdmins() {
            const list = document.getElementById('adminsList');
            list.innerHTML = '';
            
            schoolData.admins.forEach(admin => {
                const item = document.createElement('div');
                item.className = 'user-item';
                item.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div class="user-avatar">${admin.name.charAt(0)}</div>
                        <div>
                            <strong>${admin.name}</strong><br>
                            <small>${admin.email}</small><br>
                            <small style="color: #718096;">–õ–æ–≥—ñ–Ω: ${admin.login}</small>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span class="password-badge">–ü–∞—Ä–æ–ª—å: ${admin.password}</span>
                        <button class="btn btn-danger btn-small" onclick="deleteAdmin(${admin.id})">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
                    </div>
                `;
                list.appendChild(item);
            });
        }

        function deleteAdmin(id) {
            if (confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü—å–æ–≥–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞?')) {
                schoolData.admins = schoolData.admins.filter(admin => admin.id !== id);
                saveSchoolData();
                loadAdmins();
                updateStats();
            }
        }

        function saveWebsite() {
            const website = document.getElementById('schoolWebsite').value;
            schoolData.website = website;
            saveSchoolData();
            
            const status = document.getElementById('websiteStatus');
            status.textContent = '‚úÖ –°–∞–π—Ç —É—Å–ø—ñ—à–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!';
            status.style.background = '#c6f6d5';
            status.style.color = '#22543d';
            status.style.display = 'block';
        }

        function loadAllUsers() {
            const list = document.getElementById('allUsersList');
            list.innerHTML = '';
            
            schoolData.teachers.forEach(user => {
                addUserToList(list, user.name, user.email, '–í—á–∏—Ç–µ–ª—å', user.subject, user.password);
            });
            
            schoolData.admins.forEach(user => {
                addUserToList(list, user.name, user.email, '–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä', '', user.password);
            });
        }

        function addUserToList(list, name, email, role, info, password) {
            const item = document.createElement('div');
            item.className = 'user-item';
            item.innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div class="user-avatar">${name.charAt(0)}</div>
                    <div>
                        <strong>${name}</strong><br>
                        <small>${email} | ${role} ${info ? '| ' + info : ''}</small><br>
                        <small style="color: #718096;">–õ–æ–≥—ñ–Ω: ${email} | –ü–∞—Ä–æ–ª—å: ${password}</small>
                    </div>
                </div>
            `;
            list.appendChild(item);
        }

        function populateTeacherSelect() {
            const select = document.getElementById('classTeacher');
            select.innerHTML = '<option value="">–û–±–µ—Ä—ñ—Ç—å –≤—á–∏—Ç–µ–ª—è</option>';
            
            schoolData.teachers.forEach(teacher => {
                const option = document.createElement('option');
                option.value = teacher.id;
                option.textContent = `${teacher.name} (${teacher.subject})`;
                select.appendChild(option);
            });
        }

        function populateClassSelect() {
            const select = document.getElementById('scheduleClass');
            select.innerHTML = '<option value="">–û–±–µ—Ä—ñ—Ç—å –∫–ª–∞—Å</option>';
            
            schoolData.classes.forEach(classItem => {
                const option = document.createElement('option');
                option.value = classItem.id;
                option.textContent = classItem.name;
                select.appendChild(option);
            });
        }

        function loadSchedule() {
            const classId = document.getElementById('scheduleClass').value;
            const display = document.getElementById('scheduleDisplay');
            
            if (classId) {
                const classItem = schoolData.classes.find(c => c.id == classId);
                display.innerHTML = `
                    <h4 style="color: #2d3748; margin-bottom: 20px;">üìÖ –†–æ–∑–∫–ª–∞–¥ –¥–ª—è ${classItem.name}</h4>
                    <div style="background: white; padding: 20px; border-radius: 10px;">
                        <p style="color: #718096;">–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Ä–æ–∑–∫–ª–∞–¥—É –±—É–¥–µ –¥–æ–¥–∞–Ω–æ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º</p>
                    </div>
                `;
            } else {
                display.innerHTML = '<p style="color: #a0aec0; font-size: 18px;">üéì –û–±–µ—Ä—ñ—Ç—å –∫–ª–∞—Å –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ä–æ–∑–∫–ª–∞–¥—É –∑–∞–Ω—è—Ç—å</p>';
            }
        }

        function saveSchoolData() {
            localStorage.setItem('schoolData', JSON.stringify(schoolData));
        }

        function openTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function logout() {
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
